<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>¬øC√≥mo se llama? ¬∑ T1 ¬∑ M√≥dulo 1 ¬∑ Uni Academy</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:ital,wght@0,300;0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
<style>
  :root{
    --cyan:#00f5e4;--magenta:#ff2d9b;--gold:#ffd93d;
    --green:#00e676;--red:#ff3d3d;--orange:#ff8c00;--blue:#3b82f6;
    --bg:#060b18;--card:#111d35;--card2:#0e1830;--text:#e8f4ff;--muted:#6a8aaa;
  }
  *{margin:0;padding:0;box-sizing:border-box;}
  body{background:var(--bg);color:var(--text);font-family:'Exo 2',sans-serif;
    min-height:100vh;overflow-x:hidden;}
  body::before{content:'';position:fixed;inset:0;
    background:radial-gradient(ellipse at 20% 50%,rgba(0,245,228,.055) 0%,transparent 55%),
               radial-gradient(ellipse at 80% 20%,rgba(255,45,155,.04) 0%,transparent 55%);
    pointer-events:none;z-index:0;}
  body::after{content:'';position:fixed;inset:0;
    background-image:linear-gradient(rgba(0,245,228,.016) 1px,transparent 1px),
      linear-gradient(90deg,rgba(0,245,228,.016) 1px,transparent 1px);
    background-size:55px 55px;pointer-events:none;z-index:0;}

  /* HEADER */
  .header{position:relative;z-index:10;display:flex;align-items:center;
    justify-content:space-between;padding:14px 32px;
    border-bottom:1px solid rgba(0,245,228,.12);
    background:rgba(6,11,24,.94);backdrop-filter:blur(14px);}
  .logo{display:flex;align-items:center;gap:12px;}
  .logo-badge{width:40px;height:40px;background:linear-gradient(135deg,var(--cyan),#0055ff);
    clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);
    display:flex;align-items:center;justify-content:center;
    font-family:'Orbitron',monospace;font-size:9px;font-weight:900;color:#000;}
  .logo-text{font-family:'Orbitron',monospace;font-size:13px;font-weight:700;color:var(--cyan);letter-spacing:2px;}
  .logo-sub{font-size:9px;color:var(--muted);letter-spacing:1px;}
  .header-module{font-family:'Orbitron',monospace;font-size:10px;color:var(--orange);
    letter-spacing:2px;border:1px solid var(--orange);padding:4px 14px;border-radius:2px;
    background:rgba(255,140,0,.05);}

  .container{position:relative;z-index:5;max-width:860px;margin:0 auto;padding:24px 20px 60px;}

  /* UNI BAR */
  .uni-bar{display:flex;align-items:center;gap:18px;background:var(--card);
    border:1px solid rgba(0,245,228,.18);border-radius:16px;padding:15px 20px;
    margin-bottom:22px;position:relative;overflow:hidden;}
  .uni-bar::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;
    background:linear-gradient(90deg,var(--orange),var(--gold),var(--cyan),var(--orange));}
  .uni-svg{width:64px;height:64px;flex-shrink:0;}
  .speech{background:rgba(255,140,0,.05);border:1px solid rgba(255,140,0,.2);
    border-radius:12px;padding:10px 16px;flex:1;position:relative;}
  .speech::before{content:'';position:absolute;left:-10px;top:50%;transform:translateY(-50%);
    border:5px solid transparent;border-right-color:rgba(255,140,0,.2);}
  .uni-name{font-family:'Orbitron',monospace;font-size:9px;color:var(--orange);letter-spacing:2px;margin-bottom:4px;}
  .speech p{font-size:14px;line-height:1.5;}
  .speech strong{color:var(--gold);}

  /* PROGRESS */
  .prog-row{display:flex;align-items:center;gap:14px;margin-bottom:20px;flex-wrap:wrap;}
  .prog-label{font-family:'Orbitron',monospace;font-size:11px;color:var(--muted);letter-spacing:1px;white-space:nowrap;}
  .prog-label span{color:var(--orange);}
  .prog-track{flex:1;height:8px;background:rgba(255,255,255,.07);border-radius:4px;overflow:hidden;min-width:100px;}
  .prog-fill{height:100%;border-radius:4px;
    background:linear-gradient(90deg,var(--orange),var(--gold));
    transition:width .5s cubic-bezier(.4,0,.2,1);width:0%;}
  .score-pills{display:flex;gap:8px;}
  .pill{font-family:'Orbitron',monospace;font-size:12px;font-weight:700;
    padding:5px 14px;border-radius:20px;border:1px solid;}
  .pill.ok {color:var(--green);border-color:var(--green);background:rgba(0,230,118,.08);}
  .pill.err{color:var(--red);  border-color:var(--red);  background:rgba(255,61,61,.08);}

  /* DOT TRACKER */
  .dot-row{display:flex;gap:8px;justify-content:center;margin-bottom:22px;flex-wrap:wrap;}
  .dot{width:11px;height:11px;border-radius:50%;
    background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.15);
    transition:all .3s ease;}
  .dot.ok {background:var(--green);border-color:var(--green);box-shadow:0 0 8px rgba(0,230,118,.5);}
  .dot.err{background:var(--red);  border-color:var(--red);  box-shadow:0 0 8px rgba(255,61,61,.5);}
  .dot.cur{background:var(--gold); border-color:var(--gold); box-shadow:0 0 10px rgba(255,217,61,.6);transform:scale(1.4);}

  /* ‚ïê‚ïê MAIN CARD ‚ïê‚ïê */
  .q-card{background:var(--card);border:1.5px solid rgba(255,140,0,.18);
    border-radius:22px;overflow:hidden;
    box-shadow:0 20px 55px rgba(0,0,0,.5);
    animation:slideIn .4s cubic-bezier(.34,1.2,.64,1);}
  @keyframes slideIn{from{transform:translateY(24px) scale(.97);opacity:0}to{transform:none;opacity:1}}
  .q-card.hidden{display:none;}
  .q-top-bar{height:4px;background:linear-gradient(90deg,var(--orange),var(--gold),var(--cyan));}

  /* ILLUSTRATION ZONE */
  .illus-zone{
    background:linear-gradient(180deg,rgba(0,0,0,.3) 0%,rgba(0,0,0,.1) 100%);
    display:flex;align-items:center;justify-content:center;
    padding:32px 24px;min-height:260px;position:relative;overflow:hidden;}
  /* Subtle scan lines */
  .illus-zone::before{content:'';position:absolute;inset:0;
    background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(255,255,255,.012) 3px,rgba(255,255,255,.012) 4px);
    pointer-events:none;}
  /* Question number badge */
  .q-badge{position:absolute;top:14px;right:16px;
    font-family:'Orbitron',monospace;font-size:9px;color:var(--muted);
    background:rgba(6,11,24,.7);border:1px solid rgba(255,255,255,.1);
    padding:3px 10px;border-radius:4px;letter-spacing:2px;}

  /* SVG illustration wrapper */
  .illus-svg{width:220px;height:200px;filter:drop-shadow(0 8px 24px rgba(0,0,0,.6));
    animation:floatIllus 3.5s ease-in-out infinite;}
  @keyframes floatIllus{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}

  /* QUESTION TEXT */
  .q-text-zone{padding:20px 24px 6px;text-align:center;}
  .q-label{font-family:'Orbitron',monospace;font-size:9px;color:var(--orange);
    letter-spacing:3px;margin-bottom:8px;}
  .q-text{font-size:20px;font-weight:700;color:var(--text);line-height:1.4;}

  /* OPTIONS */
  .q-opts{display:grid;grid-template-columns:1fr 1fr;gap:10px;padding:16px 24px 22px;}
  .q-opt{
    background:rgba(255,255,255,.04);border:1.5px solid rgba(255,255,255,.1);
    border-radius:13px;padding:14px 18px;cursor:pointer;
    font-size:15px;font-weight:600;
    transition:all .18s ease;text-align:left;color:var(--text);
    font-family:'Exo 2',sans-serif;
    display:flex;align-items:center;gap:10px;}
  .q-opt:hover{border-color:var(--orange);background:rgba(255,140,0,.09);
    transform:translateY(-2px);box-shadow:0 6px 18px rgba(255,140,0,.14);}
  .opt-letter{font-family:'Orbitron',monospace;font-size:10px;font-weight:700;
    color:var(--muted);min-width:18px;}
  .q-opt:hover .opt-letter{color:var(--orange);}
  .q-opt.correct{border-color:var(--green)!important;background:rgba(0,230,118,.14)!important;
    color:var(--green)!important;transform:none!important;
    box-shadow:0 0 20px rgba(0,230,118,.2)!important;}
  .q-opt.correct .opt-letter{color:var(--green)!important;}
  .q-opt.wrong{border-color:var(--red)!important;background:rgba(255,61,61,.14)!important;
    color:var(--red)!important;}
  .q-opt.wrong .opt-letter{color:var(--red)!important;}
  .q-opt.disabled{pointer-events:none;opacity:.5;}
  .q-opt.correct.disabled{opacity:1;}

  /* FEEDBACK */
  .feedback{margin:0 24px 18px;padding:12px 16px;border-radius:12px;
    font-size:13px;line-height:1.65;display:none;}
  .feedback.show{display:block;}
  .feedback.ok {background:rgba(0,230,118,.08);border:1px solid rgba(0,230,118,.22);color:var(--green);}
  .feedback.err{background:rgba(255,61,61,.08);border:1px solid rgba(255,61,61,.22);color:var(--red);}
  .feedback strong{color:var(--gold);}

  /* CONTROLS */
  .controls{padding:14px 24px 20px;border-top:1px solid rgba(255,255,255,.06);
    display:flex;align-items:center;justify-content:flex-end;}
  .btn-next{padding:11px 28px;
    background:linear-gradient(135deg,var(--orange),var(--gold));
    color:#000;border:none;border-radius:12px;
    font-family:'Orbitron',monospace;font-size:12px;font-weight:700;
    letter-spacing:2px;cursor:pointer;transition:opacity .2s,transform .2s;
    box-shadow:0 6px 20px rgba(255,140,0,.3);display:none;}
  .btn-next.show{display:block;}
  .btn-next:hover{opacity:.85;transform:translateY(-2px);}

  /* ‚ïê‚ïê RESULTS ‚ïê‚ïê */
  .results{display:none;}
  .results.visible{display:block;}

  .cert{background:var(--card);border-radius:24px;overflow:hidden;
    box-shadow:0 30px 80px rgba(0,0,0,.6);}
  .cert-top{height:6px;background:linear-gradient(90deg,var(--orange),var(--gold),var(--cyan),var(--magenta));}
  .cert-body{padding:36px 32px;text-align:center;}

  .cert-stars{font-size:44px;letter-spacing:8px;margin-bottom:10px;
    animation:starPop .6s cubic-bezier(.34,1.56,.64,1) both;}
  @keyframes starPop{from{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}
  .cert-score{font-family:'Orbitron',monospace;font-size:60px;font-weight:900;
    background:linear-gradient(135deg,var(--orange),var(--gold));
    -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1;}
  .cert-label{font-family:'Orbitron',monospace;font-size:11px;color:var(--muted);
    letter-spacing:3px;margin-bottom:18px;}
  .cert-msg{font-size:15px;line-height:1.7;max-width:520px;margin:0 auto 24px;}
  .cert-msg strong{color:var(--gold);}

  /* Part summary */
  .parts-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:10px;margin-bottom:24px;}
  .part-card{background:rgba(255,255,255,.04);border-radius:14px;padding:14px 8px;
    text-align:center;border:1px solid rgba(255,255,255,.08);transition:all .3s;}
  .part-card.ok{border-color:rgba(0,230,118,.3);background:rgba(0,230,118,.06);}
  .part-icon{font-size:28px;margin-bottom:6px;}
  .part-name{font-family:'Orbitron',monospace;font-size:7px;color:var(--muted);letter-spacing:1px;margin-bottom:4px;}
  .part-verdict{font-size:16px;}

  /* Review list */
  .review-wrap{margin-bottom:24px;}
  .review-title{font-family:'Orbitron',monospace;font-size:10px;letter-spacing:3px;
    color:var(--muted);margin-bottom:12px;display:flex;align-items:center;gap:10px;}
  .review-title::after{content:'';flex:1;height:1px;background:rgba(255,255,255,.08);}
  .rev-item{display:flex;align-items:center;gap:12px;background:rgba(255,255,255,.03);
    border-radius:10px;padding:10px 14px;margin-bottom:8px;border:1px solid rgba(255,255,255,.06);}
  .rev-icon{font-size:20px;width:26px;text-align:center;}
  .rev-name{font-family:'Orbitron',monospace;font-size:10px;color:var(--text);letter-spacing:1px;flex:1;}
  .rev-desc{font-size:11px;color:var(--muted);flex:2;}
  .rev-check{font-size:18px;}

  .btn-restart{padding:13px 32px;
    background:linear-gradient(135deg,var(--orange),var(--gold));
    color:#000;border:none;border-radius:12px;
    font-family:'Orbitron',monospace;font-size:12px;font-weight:700;
    letter-spacing:2px;cursor:pointer;transition:opacity .2s,transform .2s;
    box-shadow:0 6px 20px rgba(255,140,0,.3);}
  .btn-restart:hover{opacity:.88;transform:translateY(-2px);}

  /* Confetti */
  @keyframes conf{0%{transform:translate(0,0) rotate(0);opacity:1}
    100%{transform:translate(var(--tx),var(--ty)) rotate(var(--r));opacity:0}}
  .conf{position:fixed;width:9px;height:9px;border-radius:2px;
    pointer-events:none;animation:conf .85s ease-out forwards;z-index:999;}

  @media(max-width:600px){
    .header{padding:10px 14px;}
    .container{padding:12px 10px 40px;}
    .uni-bar{flex-direction:column;align-items:flex-start;}
    .speech::before{display:none;}
    .q-opts{grid-template-columns:1fr;}
    .parts-grid{grid-template-columns:repeat(3,1fr);}
    .illus-svg{width:170px;height:155px;}
  }
</style>
</head>
<body>

<header class="header">
  <div class="logo">
    <div class="logo-badge">UNi</div>
    <div><div class="logo-text">UNI ACADEMY</div><div class="logo-sub">MI PRIMER CURSO DE COMPUTACI√ìN</div></div>
  </div>
  <div class="header-module">M√ìDULO 1 ¬∑ TEMA 1</div>
</header>

<div class="container">

  <!-- UNI -->
  <div class="uni-bar">
    <svg class="uni-svg" viewBox="0 0 80 90" fill="none">
      <ellipse cx="40" cy="75" rx="22" ry="6" fill="rgba(0,245,228,.13)"/>
      <rect x="27" y="68" width="10" height="14" rx="4" fill="#1a2a4a"/>
      <rect x="43" y="68" width="10" height="14" rx="4" fill="#1a2a4a"/>
      <rect x="25" y="78" width="14" height="6" rx="3" fill="#243355"/>
      <rect x="41" y="78" width="14" height="6" rx="3" fill="#243355"/>
      <rect x="20" y="42" width="40" height="30" rx="10" fill="#1e2d4f"/>
      <rect x="20" y="42" width="40" height="30" rx="10" stroke="#00f5e4" stroke-width="1.5" stroke-opacity=".4"/>
      <circle cx="40" cy="57" r="5" fill="#00e676"/>
      <circle cx="40" cy="57" r="3" fill="#fff" fill-opacity=".5"/>
      <rect x="27" y="48" width="26" height="2" rx="1" fill="rgba(0,245,228,.2)"/>
      <rect x="8" y="44" width="13" height="8" rx="4" fill="#1a2a4a"/>
      <rect x="59" y="44" width="13" height="8" rx="4" fill="#1a2a4a"/>
      <circle cx="10" cy="56" r="5" fill="#243355"/>
      <circle cx="70" cy="56" r="5" fill="#243355"/>
      <rect x="33" y="35" width="14" height="9" rx="4" fill="#1a2a4a"/>
      <rect x="15" y="10" width="50" height="30" rx="14" fill="#1e2d4f"/>
      <rect x="15" y="10" width="50" height="30" rx="14" stroke="#00f5e4" stroke-width="1.5" stroke-opacity=".5"/>
      <rect x="20" y="16" width="40" height="18" rx="8" fill="#060b18"/>
      <circle cx="32" cy="25" r="5" fill="#00f5e4"/>
      <circle cx="32" cy="25" r="3" fill="#fff" fill-opacity=".6"/>
      <circle cx="48" cy="25" r="5" fill="#ffd93d"/>
      <circle cx="48" cy="25" r="3" fill="#fff" fill-opacity=".6"/>
      <rect x="38" y="3" width="4" height="9" rx="2" fill="#243355"/>
      <circle cx="40" cy="3" r="3" fill="#ff2d9b"/>
      <rect x="10" y="18" width="6" height="14" rx="3" fill="#243355"/>
      <rect x="64" y="18" width="6" height="14" rx="3" fill="#243355"/>
    </svg>
    <div class="speech">
      <div class="uni-name">// UNI ¬∑ GU√çA DIGITAL</div>
      <p id="uniMsg">¬°Bienvenido al <strong>M√≥dulo 1</strong>! üñ•Ô∏è Vamos a conocer las partes de la computadora. Te mostrar√© una imagen y t√∫ me dices <strong>c√≥mo se llama</strong>. ¬°Es f√°cil!</p>
    </div>
  </div>

  <!-- PROGRESS -->
  <div class="prog-row">
    <div class="prog-label">TARJETA <span id="qNum">1</span> / 5</div>
    <div class="prog-track"><div class="prog-fill" id="progFill"></div></div>
    <div class="score-pills">
      <div class="pill ok">‚úì <span id="sOk">0</span></div>
      <div class="pill err">‚úó <span id="sErr">0</span></div>
    </div>
  </div>
  <div class="dot-row" id="dotRow"></div>

  <!-- ‚ïê‚ïê QUESTION CARD ‚ïê‚ïê -->
  <div class="q-card" id="qCard">
    <div class="q-top-bar"></div>
    <div class="illus-zone">
      <div class="q-badge" id="qBadge">01 / 05</div>
      <svg class="illus-svg" id="illusSvg" viewBox="0 0 220 200"></svg>
    </div>
    <div class="q-text-zone">
      <div class="q-label">// ¬øC√ìMO SE LLAMA ESTA PARTE?</div>
      <div class="q-text" id="qText">Observa la imagen y elige el nombre correcto</div>
    </div>
    <div class="q-opts" id="qOpts"></div>
    <div class="feedback" id="feedback"></div>
    <div class="controls">
      <button class="btn-next" id="btnNext" onclick="nextCard()">SIGUIENTE ‚Üí</button>
    </div>
  </div>

  <!-- ‚ïê‚ïê RESULTS ‚ïê‚ïê -->
  <div class="results" id="results">
    <div class="cert">
      <div class="cert-top"></div>
      <div class="cert-body">
        <div class="cert-stars" id="certStars">‚≠ê‚≠ê‚≠ê</div>
        <div class="cert-score" id="certScore">5/5</div>
        <div class="cert-label">PARTES IDENTIFICADAS</div>
        <div class="cert-msg" id="certMsg">¬°Perfecto!</div>

        <!-- Parts summary -->
        <div class="parts-grid" id="partsGrid"></div>

        <!-- Review -->
        <div class="review-wrap">
          <div class="review-title">// RESUMEN DE PARTES</div>
          <div id="reviewList"></div>
        </div>

        <button class="btn-restart" onclick="restart()">üîÑ &nbsp;JUGAR DE NUEVO</button>
      </div>
    </div>
  </div>

</div>

<script>
// ‚ïê‚ïê CARDS DATA ‚ïê‚ïê
// Each card: SVG illustration inline + question + 4 options
const CARDS = [
  {
    id:'cpu',
    name:'CPU (Torre)',
    icon:'üñ•Ô∏è',
    desc:'Es como el <strong>cerebro</strong> de la computadora ‚Äî aqu√≠ se hacen todos los c√°lculos.',
    uni:'¬°Correcto! üñ•Ô∏è La <strong>CPU o Torre</strong> es el cerebro de la computadora. Dentro tiene el procesador, la memoria y todo lo que la hace funcionar.',
    uniWrong:'¬°Casi! üí° Esta es la <strong>CPU o Torre</strong> ‚Äî la caja grande donde est√° el "cerebro" de la computadora.',
    opts:['Monitor','Impresora','CPU (Torre)','Teclado'],
    correct:2,
    fb:'‚úÖ ¬°Correcto! La <strong>CPU</strong> (tambi√©n llamada Torre o Caja) es el componente principal ‚Äî contiene el procesador, la memoria RAM y el disco duro.',
    svg:`
      <!-- Tower body -->
      <rect x="55" y="20" width="110" height="168" rx="10" fill="#1a2440"/>
      <rect x="55" y="20" width="110" height="168" rx="10" stroke="rgba(0,245,228,.35)" stroke-width="2" fill="none"/>
      <!-- Glass panel -->
      <rect x="120" y="24" width="42" height="160" rx="7" fill="rgba(0,40,100,.55)" stroke="rgba(0,245,228,.4)" stroke-width="1.5"/>
      <!-- Fan 1 -->
      <circle cx="141" cy="80" r="28" fill="#0a1428"/>
      <circle cx="141" cy="80" r="26" stroke="rgba(0,245,228,.3)" stroke-width="1.5" fill="none"/>
      <g transform="translate(141,80)">
        <path d="M0,-20 Q6,-13 0,-4 Q-6,-13 0,-20" fill="rgba(0,245,228,.22)"/>
        <path d="M14,-14 Q11,-6 2,-6 Q8,-15 14,-14" fill="rgba(0,245,228,.18)"/>
        <path d="M20,0 Q13,6 4,0 Q13,-6 20,0" fill="rgba(0,245,228,.22)"/>
        <path d="M14,14 Q6,11 6,2 Q15,8 14,14" fill="rgba(0,245,228,.18)"/>
        <path d="M0,20 Q-6,13 0,4 Q6,13 0,20" fill="rgba(0,245,228,.22)"/>
        <path d="M-14,14 Q-11,6 -2,6 Q-8,15 -14,14" fill="rgba(0,245,228,.18)"/>
        <path d="M-20,0 Q-13,-6 -4,0 Q-13,6 -20,0" fill="rgba(0,245,228,.22)"/>
        <path d="M-14,-14 Q-6,-11 -6,-2 Q-15,-8 -14,-14" fill="rgba(0,245,228,.18)"/>
      </g>
      <circle cx="141" cy="80" r="7" fill="#060e1c"/>
      <circle cx="141" cy="80" r="4" fill="rgba(0,245,228,.5)"/>
      <!-- Fan 2 -->
      <circle cx="141" cy="140" r="22" fill="#0a1428"/>
      <circle cx="141" cy="140" r="20" stroke="rgba(255,45,155,.3)" stroke-width="1.5" fill="none"/>
      <g transform="translate(141,140)">
        <path d="M0,-14 Q4,-9 0,-3 Q-4,-9 0,-14" fill="rgba(255,45,155,.2)"/>
        <path d="M10,-10 Q8,-4 1,-4 Q6,-10 10,-10" fill="rgba(255,45,155,.16)"/>
        <path d="M14,0 Q9,4 3,0 Q9,-4 14,0" fill="rgba(255,45,155,.2)"/>
        <path d="M10,10 Q4,8 4,1 Q10,5 10,10" fill="rgba(255,45,155,.16)"/>
        <path d="M0,14 Q-4,9 0,3 Q4,9 0,14" fill="rgba(255,45,155,.2)"/>
        <path d="M-10,10 Q-8,4 -1,4 Q-6,10 -10,10" fill="rgba(255,45,155,.16)"/>
        <path d="M-14,0 Q-9,-4 -3,0 Q-9,4 -14,0" fill="rgba(255,45,155,.2)"/>
        <path d="M-10,-10 Q-4,-8 -4,-1 Q-10,-5 -10,-10" fill="rgba(255,45,155,.16)"/>
      </g>
      <circle cx="141" cy="140" r="5" fill="#060e1c"/>
      <circle cx="141" cy="140" r="3" fill="rgba(255,45,155,.5)"/>
      <!-- Front panel -->
      <rect x="59" y="24" width="58" height="160" rx="7" fill="#101828"/>
      <!-- Power button -->
      <circle cx="88" cy="44" r="9" fill="#0d1a2e"/>
      <circle cx="88" cy="44" r="7" fill="#080f1e"/>
      <circle cx="88" cy="44" r="4" fill="#00e676" opacity=".8">
        <animate attributeName="opacity" values="1;.4;1" dur="2.2s" repeatCount="indefinite"/>
      </circle>
      <!-- USB ports -->
      <rect x="68" y="62" width="18" height="11" rx="2" fill="#060b18" stroke="rgba(0,245,228,.22)" stroke-width=".8"/>
      <rect x="68" y="77" width="18" height="11" rx="2" fill="#060b18" stroke="rgba(0,245,228,.22)" stroke-width=".8"/>
      <rect x="68" y="92" width="12" height="8" rx="2" fill="#060b18" stroke="rgba(0,245,228,.16)" stroke-width=".8"/>
      <!-- Brand label -->
      <rect x="65" y="155" width="46" height="14" rx="3" fill="rgba(0,0,0,.3)"/>
      <text x="88" y="165" text-anchor="middle" fill="rgba(0,245,228,.4)" font-family="'Orbitron',monospace" font-size="7" letter-spacing="1">TOWER PC</text>
      <!-- Bottom base -->
      <rect x="59" y="182" width="102" height="6" rx="3" fill="#0d1626"/>
      <!-- Glow under -->
      <rect x="59" y="186" width="102" height="3" rx="1" fill="rgba(0,245,228,.2)" opacity=".7">
        <animate attributeName="opacity" values=".7;.2;.7" dur="2.8s" repeatCount="indefinite"/>
      </rect>`
  },
  {
    id:'monitor',
    name:'Monitor',
    icon:'üñ•Ô∏è',
    desc:'Es como una <strong>televisi√≥n</strong> para la computadora ‚Äî muestra todo lo que hace.',
    uni:'¬°Muy bien! üñ•Ô∏è El <strong>Monitor</strong> es la pantalla de la computadora. Nos muestra todo: im√°genes, texto, videos y m√°s.',
    uniWrong:'¬°F√≠jate bien! üñ•Ô∏è Eso es el <strong>Monitor</strong> ‚Äî la pantalla donde vemos todo lo que hace la computadora.',
    opts:['CPU (Torre)','Monitor','Rat√≥n','Impresora'],
    correct:1,
    fb:'‚úÖ ¬°Exacto! El <strong>Monitor</strong> es la pantalla donde vemos todo lo que hace la computadora, como si fuera una televisi√≥n.',
    svg:`
      <!-- Stand base -->
      <ellipse cx="110" cy="185" rx="42" ry="8" fill="#141e35"/>
      <rect x="100" y="148" width="20" height="40" rx="5" fill="#141e35"/>
      <rect x="80"  y="173" width="60" height="12" rx="5" fill="#141e35"/>
      <!-- Monitor bezel -->
      <rect x="18" y="20" width="184" height="138" rx="11" fill="#141e35"/>
      <rect x="18" y="20" width="184" height="138" rx="11" stroke="rgba(0,245,228,.28)" stroke-width="1.5" fill="none"/>
      <!-- Screen area -->
      <rect x="27" y="28" width="166" height="114" rx="7" fill="#040c1e"/>
      <!-- Screen glow bg -->
      <rect x="27" y="28" width="166" height="114" rx="7" fill="rgba(0,40,120,.4)"/>
      <!-- Desktop wallpaper mountains -->
      <rect x="27" y="28" width="166" height="80" rx="7" fill="rgba(10,30,80,.6)"/>
      <polygon points="27,108 60,65 90,95 120,55 160,90 193,70 193,108" fill="rgba(20,50,140,.7)"/>
      <polygon points="27,108 60,70 85,98 110,62 140,92 165,75 193,85 193,108" fill="rgba(10,35,100,.8)"/>
      <!-- Taskbar -->
      <rect x="27" y="118" width="166" height="24" rx="0" fill="rgba(5,10,25,.9)"/>
      <rect x="27" y="118" width="166" height="1" fill="rgba(0,245,228,.12)"/>
      <!-- Taskbar icons -->
      <rect x="31" y="122" width="24" height="16" rx="3" fill="rgba(0,245,228,.12)"/>
      <rect x="59" y="122" width="14" height="14" rx="3" fill="rgba(100,100,255,.4)"/>
      <rect x="77" y="122" width="14" height="14" rx="3" fill="rgba(255,60,60,.3)"/>
      <rect x="95" y="122" width="14" height="14" rx="3" fill="rgba(0,200,100,.3)"/>
      <!-- Clock on taskbar -->
      <text x="175" y="133" text-anchor="middle" fill="rgba(255,255,255,.5)" font-family="monospace" font-size="9">10:30</text>
      <!-- Screen reflection gloss -->
      <rect x="27" y="28" width="166" height="30" rx="7" fill="rgba(255,255,255,.03)"/>
      <!-- Screen glow -->
      <rect x="27" y="28" width="166" height="114" rx="7" fill="none" stroke="rgba(0,245,228,.12)" stroke-width="1"/>
      <!-- Power LED -->
      <circle cx="187" cy="151" r="3" fill="#00f5e4" opacity=".7">
        <animate attributeName="opacity" values=".7;.2;.7" dur="3s" repeatCount="indefinite"/>
      </circle>
      <!-- Brand -->
      <text x="110" y="155" text-anchor="middle" fill="rgba(0,245,228,.25)" font-family="'Orbitron',monospace" font-size="6" letter-spacing="1">MONITOR HD</text>`
  },
  {
    id:'teclado',
    name:'Teclado',
    icon:'‚å®Ô∏è',
    desc:'Lo usamos para <strong>escribir</strong> letras, n√∫meros y comandos.',
    uni:'¬°Excelente! ‚å®Ô∏è El <strong>Teclado</strong> es el dispositivo con el que escribimos texto y damos instrucciones a la computadora.',
    uniWrong:'¬°Sigue intentando! ‚å®Ô∏è Eso es el <strong>Teclado</strong> ‚Äî tiene muchas teclas para escribir letras, n√∫meros y s√≠mbolos.',
    opts:['Rat√≥n','Monitor','Impresora','Teclado'],
    correct:3,
    fb:'‚úÖ ¬°Perfecto! El <strong>Teclado</strong> es el dispositivo de entrada con el que escribimos. Tiene teclas para letras, n√∫meros, s√≠mbolos y funciones especiales.',
    svg:`
      <!-- Keyboard body -->
      <rect x="12" y="62" width="196" height="86" rx="10" fill="#141e35"/>
      <rect x="12" y="62" width="196" height="86" rx="10" stroke="rgba(0,245,228,.22)" stroke-width="1.5" fill="none"/>
      <rect x="17" y="67" width="186" height="76" rx="7" fill="rgba(0,0,0,.22)"/>
      <!-- Row 1 (fn) -->
      <rect x="20" y="71" width="16" height="10" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="40" y="71" width="12" height="10" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="56" y="71" width="12" height="10" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="72" y="71" width="12" height="10" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="92" y="71" width="12" height="10" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="108" y="71" width="12" height="10" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="124" y="71" width="12" height="10" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="140" y="71" width="12" height="10" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="160" y="71" width="12" height="10" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="176" y="71" width="12" height="10" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="192" y="71" width="14" height="10" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <!-- Row 2 (numbers) -->
      <rect x="20" y="85" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="36" y="85" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="52" y="85" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="68" y="85" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="84" y="85" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="100" y="85" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="116" y="85" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="132" y="85" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="148" y="85" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="164" y="85" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="180" y="85" width="26" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <!-- Row 3 (qwerty) -->
      <rect x="20" y="100" width="16" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="40" y="100" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="56" y="100" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="72" y="100" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="88" y="100" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="104" y="100" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="120" y="100" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="136" y="100" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="152" y="100" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="168" y="100" width="12" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="184" y="100" width="22" height="11" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <!-- Row 4 (home) highlighted -->
      <rect x="20" y="115" width="19" height="11" rx="2" fill="#1e2e4a" stroke="rgba(0,245,228,.14)" stroke-width=".7"/>
      <rect x="43" y="115" width="12" height="11" rx="2" fill="#1e2e4a" stroke="rgba(0,245,228,.12)" stroke-width=".7"/>
      <rect x="59" y="115" width="12" height="11" rx="2" fill="#1e2e4a" stroke="rgba(0,245,228,.12)" stroke-width=".7"/>
      <rect x="75" y="115" width="12" height="11" rx="2" fill="#1e2e4a" stroke="rgba(0,245,228,.12)" stroke-width=".7"/>
      <rect x="91" y="115" width="12" height="11" rx="2" fill="#1e2e4a" stroke="rgba(0,245,228,.12)" stroke-width=".7"/>
      <rect x="107" y="115" width="12" height="11" rx="2" fill="#1e2e4a" stroke="rgba(0,245,228,.12)" stroke-width=".7"/>
      <rect x="123" y="115" width="12" height="11" rx="2" fill="#1e2e4a" stroke="rgba(0,245,228,.12)" stroke-width=".7"/>
      <rect x="139" y="115" width="12" height="11" rx="2" fill="#1e2e4a" stroke="rgba(0,245,228,.12)" stroke-width=".7"/>
      <rect x="155" y="115" width="51" height="11" rx="2" fill="#1e2e4a" stroke="rgba(0,245,228,.12)" stroke-width=".7"/>
      <!-- Spacebar row -->
      <rect x="20" y="130" width="14" height="12" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="38" y="130" width="14" height="12" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="56" y="130" width="108" height="12" rx="3" fill="#1e2e4a" stroke="rgba(0,245,228,.16)" stroke-width=".8"/>
      <rect x="168" y="130" width="14" height="12" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <rect x="186" y="130" width="20" height="12" rx="2" fill="#1a2845" stroke="rgba(0,245,228,.1)" stroke-width=".5"/>
      <!-- RGB underglow -->
      <rect x="12" y="145" width="196" height="4" rx="2" fill="rgba(0,245,228,.35)" opacity=".8">
        <animate attributeName="fill" values="rgba(0,245,228,.35);rgba(255,45,155,.35);rgba(255,217,61,.35);rgba(0,245,228,.35)" dur="4s" repeatCount="indefinite"/>
      </rect>`
  },
  {
    id:'raton',
    name:'Rat√≥n (Mouse)',
    icon:'üñ±Ô∏è',
    desc:'Lo movemos para controlar la <strong>flechita</strong> en la pantalla.',
    uni:'¬°Correcto! üñ±Ô∏è El <strong>Rat√≥n o Mouse</strong> controla el cursor en pantalla. Con √©l hacemos clic en botones e √≠conos.',
    uniWrong:'¬°Mira bien! üñ±Ô∏è Eso es el <strong>Rat√≥n</strong> ‚Äî lo mueves sobre la mesa para controlar la flechita en la pantalla.',
    opts:['Teclado','CPU (Torre)','Rat√≥n (Mouse)','Monitor'],
    correct:2,
    fb:'‚úÖ ¬°Correcto! El <strong>Rat√≥n o Mouse</strong> es el dispositivo que movemos sobre la mesa para controlar el cursor (flechita) en la pantalla.',
    svg:`
      <!-- Mouse shadow -->
      <ellipse cx="110" cy="182" rx="36" ry="8" fill="rgba(0,0,0,.4)"/>
      <!-- Mouse body -->
      <path d="M82,80 Q76,100 74,128 Q74,158 82,172 Q92,182 110,182 Q128,182 138,172 Q146,158 146,128 Q144,100 138,80 Q128,68 110,68 Q92,68 82,80Z"
        fill="#141e35"/>
      <path d="M82,80 Q76,100 74,128 Q74,158 82,172 Q92,182 110,182 Q128,182 138,172 Q146,158 146,128 Q144,100 138,80 Q128,68 110,68 Q92,68 82,80Z"
        fill="none" stroke="rgba(0,245,228,.28)" stroke-width="1.5"/>
      <!-- Button divider -->
      <line x1="110" y1="68" x2="110" y2="122" stroke="rgba(0,245,228,.2)" stroke-width="1.2"/>
      <!-- Left button top gloss -->
      <path d="M82,80 Q88,72 110,68 L110,96 Q94,94 82,88Z" fill="rgba(255,255,255,.04)"/>
      <!-- Scroll wheel -->
      <rect x="103" y="84" width="14" height="24" rx="5" fill="rgba(0,245,228,.3)"/>
      <rect x="103" y="84" width="14" height="24" rx="5" stroke="rgba(0,245,228,.55)" stroke-width="1" fill="none"/>
      <line x1="103" y1="91" x2="117" y2="91" stroke="rgba(0,0,0,.5)" stroke-width="1"/>
      <line x1="103" y1="97" x2="117" y2="97" stroke="rgba(0,0,0,.5)" stroke-width="1"/>
      <line x1="103" y1="103" x2="117" y2="103" stroke="rgba(0,0,0,.5)" stroke-width="1"/>
      <!-- Side buttons -->
      <rect x="73" y="114" width="6" height="16" rx="2" fill="rgba(0,245,228,.22)"/>
      <rect x="73" y="134" width="6" height="14" rx="2" fill="rgba(0,245,228,.16)"/>
      <!-- DPI button -->
      <rect x="104" y="112" width="12" height="7" rx="2" fill="rgba(0,245,228,.14)"/>
      <!-- RGB underglow -->
      <ellipse cx="110" cy="174" rx="26" ry="6" fill="rgba(0,245,228,.5)" opacity=".8">
        <animate attributeName="fill" values="rgba(0,245,228,.5);rgba(255,45,155,.5);rgba(0,245,228,.5)" dur="2.8s" repeatCount="indefinite"/>
      </ellipse>
      <!-- Cable -->
      <path d="M110,68 Q112,50 115,30 Q118,14 120,8"
        stroke="rgba(0,245,228,.2)" stroke-width="3" fill="none" stroke-linecap="round"/>
      <path d="M110,68 Q112,50 115,30 Q118,14 120,8"
        stroke="rgba(255,255,255,.04)" stroke-width="2" fill="none" stroke-dasharray="3,3"/>`
  },
  {
    id:'impresora',
    name:'Impresora',
    icon:'üñ®Ô∏è',
    desc:'Saca copias en <strong>papel</strong> de lo que est√° en la computadora.',
    uni:'¬°Genial! üñ®Ô∏è La <strong>Impresora</strong> convierte los archivos digitales de la computadora en papel impreso.',
    uniWrong:'¬°Ojo! üñ®Ô∏è Eso es la <strong>Impresora</strong> ‚Äî la m√°quina que imprime documentos e im√°genes en papel.',
    opts:['Monitor','Impresora','Teclado','CPU (Torre)'],
    correct:1,
    fb:'‚úÖ ¬°Muy bien! La <strong>Impresora</strong> es el dispositivo que nos permite imprimir en papel todo lo que tenemos en la computadora.',
    svg:`
      <!-- Shadow -->
      <ellipse cx="110" cy="186" rx="72" ry="8" fill="rgba(0,0,0,.4)"/>
      <!-- Printer body -->
      <rect x="28" y="72" width="164" height="110" rx="11" fill="#141e35"/>
      <rect x="28" y="72" width="164" height="110" rx="11" stroke="rgba(0,245,228,.22)" stroke-width="1.5" fill="none"/>
      <!-- Top lid -->
      <rect x="32" y="76" width="156" height="38" rx="8" fill="rgba(0,0,0,.2)"/>
      <!-- Paper tray input -->
      <rect x="46" y="88" width="120" height="18" rx="4" fill="#060b18"/>
      <rect x="46" y="88" width="120" height="18" rx="4" stroke="rgba(0,245,228,.2)" stroke-width=".8" fill="none"/>
      <!-- Paper sheets in tray -->
      <rect x="50" y="91" width="72" height="12" rx="2" fill="rgba(240,236,230,.85)"/>
      <rect x="50" y="98" width="72" height="3" rx="1" fill="rgba(0,0,0,.1)"/>
      <!-- Control panel -->
      <rect x="34" y="120" width="152" height="54" rx="7" fill="rgba(0,0,0,.18)"/>
      <!-- LCD screen -->
      <rect x="40" y="126" width="68" height="30" rx="5" fill="#060b18"/>
      <rect x="40" y="126" width="68" height="30" rx="5" stroke="rgba(0,245,228,.25)" stroke-width=".8" fill="none"/>
      <text x="74" y="144" text-anchor="middle" fill="rgba(0,245,228,.75)" font-family="'Orbitron',monospace" font-size="8">LISTA</text>
      <rect x="44" y="153" width="60" height="1.5" rx="1" fill="rgba(0,245,228,.15)"/>
      <!-- Buttons -->
      <circle cx="126" cy="133" r="9" fill="#0c1628"/>
      <circle cx="126" cy="133" r="7" fill="#080e1e"/>
      <circle cx="126" cy="133" r="3.5" fill="#00e676" opacity=".7"/>
      <circle cx="146" cy="133" r="9" fill="#0c1628"/>
      <circle cx="146" cy="133" r="7" fill="#080e1e"/>
      <circle cx="146" cy="133" r="3.5" fill="rgba(0,245,228,.5)"/>
      <circle cx="166" cy="133" r="9" fill="#0c1628"/>
      <circle cx="166" cy="133" r="7" fill="#080e1e"/>
      <circle cx="166" cy="133" r="3.5" fill="rgba(255,45,155,.5)"/>
      <!-- Print button -->
      <rect x="114" y="147" width="60" height="18" rx="5" fill="#0e1c35"/>
      <rect x="114" y="147" width="60" height="18" rx="5" stroke="rgba(0,245,228,.2)" stroke-width=".7" fill="none"/>
      <text x="144" y="159" text-anchor="middle" fill="rgba(0,245,228,.55)" font-family="'Orbitron',monospace" font-size="7">IMPRIMIR</text>
      <!-- Output tray -->
      <rect x="32" y="178" width="156" height="18" rx="5" fill="#0d1626"/>
      <rect x="32" y="178" width="156" height="18" rx="5" stroke="rgba(0,245,228,.1)" stroke-width=".5" fill="none"/>
      <rect x="40" y="182" width="88" height="3" rx="1" fill="rgba(255,255,255,.12)"/>
      <rect x="40" y="188" width="65" height="3" rx="1" fill="rgba(255,255,255,.08)"/>
      <!-- Brand -->
      <text x="110" y="83" text-anchor="middle" fill="rgba(0,245,228,.2)" font-family="'Orbitron',monospace" font-size="6" letter-spacing="1">HP LASERJET</text>`
  },
];

function shuffle(a){const r=[...a];for(let i=r.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[r[i],r[j]]=[r[j],r[i]];}return r;}

let deck=[], idx=0, nOk=0, nErr=0, answered=false, results=[];

function init(){
  deck=shuffle([...CARDS]);
  idx=0;nOk=0;nErr=0;answered=false;results=[];
  document.getElementById('qCard').classList.remove('hidden');
  document.getElementById('results').classList.remove('visible');
  buildDots();
  showCard(0);
}

function buildDots(){
  const r=document.getElementById('dotRow');r.innerHTML='';
  deck.forEach((_,i)=>{
    const d=document.createElement('div');
    d.className='dot'+(i===0?' cur':'');d.id='dot-'+i;r.appendChild(d);
  });
}

function showCard(i){
  answered=false;
  const c=deck[i];

  // Illustration
  document.getElementById('illusSvg').innerHTML=c.svg;

  // Badge
  document.getElementById('qBadge').textContent='0'+(i+1)+' / 0'+deck.length;
  document.getElementById('qNum').textContent=i+1;

  // Options (shuffled but keep correct tracking)
  const opts=c.opts;
  document.getElementById('qOpts').innerHTML=
    opts.map((o,oi)=>`
      <button class="q-opt" id="opt-${oi}" onclick="answer(${oi})">
        <span class="opt-letter">${['A','B','C','D'][oi]}</span>
        <span>${o}</span>
      </button>`).join('');

  // Reset
  const fb=document.getElementById('feedback');fb.className='feedback';fb.innerHTML='';
  const btn=document.getElementById('btnNext');btn.classList.remove('show');

  // Progress
  document.getElementById('progFill').style.width=(i/deck.length*100)+'%';

  // Dots
  if(i>0){const prev=document.getElementById('dot-'+(i-1));if(prev)prev.className='dot '+(results[i-1]?'ok':'err');}
  const cur=document.getElementById('dot-'+i);if(cur)cur.className='dot cur';

  // UNI
  document.getElementById('uniMsg').innerHTML=
    'üîç Tarjeta <strong>'+(i+1)+'</strong> de <strong>'+deck.length+'</strong> ‚Äî Observa bien la imagen y elige el nombre correcto. ¬°T√∫ puedes!';

  // Animate card
  const card=document.getElementById('qCard');
  card.style.animation='none';card.offsetHeight;
  card.style.animation='slideIn .4s cubic-bezier(.34,1.2,.64,1)';
}

function answer(oi){
  if(answered)return;
  answered=true;
  const c=deck[idx];
  const correct=oi===c.correct;

  document.querySelectorAll('.q-opt').forEach(b=>b.classList.add('disabled'));
  document.getElementById('opt-'+oi).classList.add(correct?'correct':'wrong');
  if(!correct)document.getElementById('opt-'+c.correct).classList.add('correct');

  if(correct){nOk++; results.push(true);}
  else       {nErr++; results.push(false);}

  document.getElementById('sOk').textContent=nOk;
  document.getElementById('sErr').textContent=nErr;

  const fb=document.getElementById('feedback');
  fb.className='feedback show '+(correct?'ok':'err');
  fb.innerHTML=correct ? c.fb : '‚ùå '+c.uniWrong+'<br><small style="color:var(--muted)">'+c.fb.replace('‚úÖ ','')+'</small>';

  document.getElementById('uniMsg').innerHTML=correct ? c.uni : c.uniWrong;

  if(correct) spawnConf();

  const btn=document.getElementById('btnNext');btn.classList.add('show');
  btn.textContent=idx<deck.length-1?'SIGUIENTE TARJETA ‚Üí':'¬°VER MI RESULTADO!';
}

function nextCard(){
  if(idx<deck.length-1){idx++;showCard(idx);}
  else showResults();
}

function showResults(){
  document.getElementById('qCard').classList.add('hidden');
  const res=document.getElementById('results');res.classList.add('visible');

  const pct=Math.round((nOk/deck.length)*100);
  const stars=pct>=90?'‚≠ê‚≠ê‚≠ê':pct>=60?'‚≠ê‚≠ê':'‚≠ê';
  const msg=pct>=90
    ? '¬°Perfecto, Explorador! üöÄ Reconociste <strong>todas las partes</strong> de la computadora. ¬°Eres un experto!'
    : pct>=60
    ? '¬°Muy bien! Ya conoces las partes principales. Repasa las que fallaste y pronto las sabr√°s de memoria.'
    : '¬°Buen intento! Vuelve a revisar cada parte ‚Äî recuerda sus nombres y funciones. ¬°Int√©ntalo de nuevo!';

  document.getElementById('certStars').textContent=stars;
  document.getElementById('certScore').textContent=nOk+'/'+deck.length;
  document.getElementById('certMsg').innerHTML=msg;
  document.getElementById('progFill').style.width='100%';

  // Parts grid
  document.getElementById('partsGrid').innerHTML=deck.map((c,i)=>`
    <div class="part-card ${results[i]?'ok':''}">
      <div class="part-icon">${c.icon}</div>
      <div class="part-name">${c.name}</div>
      <div class="part-verdict">${results[i]?'‚úÖ':'‚ùå'}</div>
    </div>`).join('');

  // Review list
  document.getElementById('reviewList').innerHTML=deck.map((c,i)=>`
    <div class="rev-item">
      <div class="rev-icon">${c.icon}</div>
      <div class="rev-name">${c.name}</div>
      <div class="rev-desc">${c.desc}</div>
      <div class="rev-check">${results[i]?'‚úÖ':'‚ùå'}</div>
    </div>`).join('');

  // Dots final
  deck.forEach((_,i)=>{const d=document.getElementById('dot-'+i);if(d)d.className='dot '+(results[i]?'ok':'err');});

  document.getElementById('uniMsg').innerHTML=stars+' <strong>¬°Actividad completada!</strong> Conoces las partes de la computadora. ¬°Sigue as√≠, Explorador! üöÄ';

  if(pct>=60) setTimeout(bigConf,300);
}

function spawnConf(){
  const colors=['#00e676','#00f5e4','#ffd93d','#ff8c00'];
  for(let i=0;i<12;i++){
    const p=document.createElement('div');p.className='conf';
    p.style.cssText=`background:${colors[i%colors.length]};
      left:${30+Math.random()*40}vw;top:${20+Math.random()*20}vh;
      --tx:${(Math.random()-.5)*160}px;--ty:${(Math.random()-.6)*130}px;
      --r:${Math.random()*360}deg;animation-delay:${Math.random()*.1}s;
      border-radius:${Math.random()>.5?'50%':'2px'};`;
    document.body.appendChild(p);setTimeout(()=>p.remove(),950);
  }
}
function bigConf(){
  const colors=['#00e676','#00f5e4','#ffd93d','#ff8c00','#ff2d9b'];
  for(let i=0;i<40;i++){
    setTimeout(()=>{
      const p=document.createElement('div');p.className='conf';
      p.style.cssText=`background:${colors[i%colors.length]};
        left:${10+Math.random()*80}vw;top:${5+Math.random()*25}vh;
        --tx:${(Math.random()-.5)*260}px;--ty:${80+Math.random()*260}px;
        --r:${Math.random()*720}deg;animation-duration:.9s;
        border-radius:${Math.random()>.5?'50%':'2px'};
        width:${6+Math.random()*8}px;height:${6+Math.random()*8}px;`;
      document.body.appendChild(p);setTimeout(()=>p.remove(),1000);
    },i*28);
  }
}
function restart(){document.getElementById('results').classList.remove('visible');window.scrollTo({top:0,behavior:'smooth'});init();}

init();
</script>
</body>
</html>
